################################################################
#
#	x86_64 clang make script
#
#	File:	Makefile-x86_64-clang++.in
#	Date:	30 Jun 2020
#
#	Copyright (c) 2017 - 2020, Igor Baklykov
#	All rights reserved.
#
#


#########################################################
#
#	Compiler configuration
#
# Compiler
export CXX		= clang++
# Compiler flags
export CXXFLAGS		= -std=c++17				\
			  -Wall					\
			  -Wextra				\
			  -w					\
			  -pedantic				\
			  -Werror				\
			  -ffreestanding			\
			  -fno-exceptions			\
			  -fno-rtti				\
			  -nostdlib				\
			  -fno-pic				\
			  -fno-pie				\
			  -O3					\
			  -s					\
			  -mno-3dnow				\
			  -mno-sse				\
			  -mno-sse2				\
			  -mno-sse3				\
			  -mno-mmx				\
			  -DIGROS_ARCH_$(IGROS_ARCH)		\
			  -DIGROS_ARCH="\"$(IGROS_ARCH)"\"	\
			  -m64					\
			  -march=x86-64				\
			  -mno-red-zone				\
			  -mcmodel=large			\
			  -target x86_64-linux-elf


#########################################################
#
#	Assambler configuration
#
# Assambler
export AS		= as
# Assambler flags
export ASFLAGS		= --64


#########################################################
#
#	Linker configuration
#
# Linker
export LD		= ld
# Linker flags
export LDFLAGS		= -n					\
			  -m elf_$(IGROS_ARCH)			\
			  -z max-page-size=0x1000

